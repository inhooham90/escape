{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/objects.js","webpack:///./lib/level1/items.js","webpack:///./lib/game_view.js","webpack:///./lib/tom.js","webpack:///./lib/level1/door.js","webpack:///./lib/level1/painting.js","webpack:///./lib/inventory.js","webpack:///./lib/teller.js","webpack:///./lib/iscreen.js","webpack:///./lib/game.js","webpack:///./lib/escape.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Writing","this","image","Image","src","wall","write","draw","ctx","drawImage","Shadow","present","gone","window","steps","play","Bed","sy","opened","open","Table","surprised","surprise","coinsound","skullsound","Title","phrase","font","forEach","line","idx","y","fillText","Key","found","displayw","displayh","content","Letter1","Letter2","Letter3","discover","[object Object]","game","tom","addTom","lastTime","requestAnimationFrame","animate","time","Tom","pos","width","height","sx","sh","sw","blockedr","blockedl","blockedu","blockedd","count","x","obj","rightPressed","items","leftPressed","upPressed","downPressed","frames","getpos","Door","char","X","Y","Paint","falling","dropped","dropsound","pause","Inventory","dx","dy","item","push","Teller","interactables","inven","inventory","paint","keysound","add","full","shadow","letter3","bed","bedsound","letter1","letter2","Iscreen","select","first","second","third","fourth","drawTab","drawSelector","game_Game","teller","background","filterImg","iscreen","objects","door","writing","objects_default","a","items_default","table","title","selectCount","gameOn","moveRight","length","moveLeft","dropPaint","clearRect","fillRect","checkCollision","telling","talk","delta","allObjects","move","paintings","concat","moveObjects","canvasEl","document","getElementById","getContext","game_view_default","start","addEventListener","e","keyCode","walkingLeft","walkingRight","snd","paused","Audio","currentTime"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","const Writing = function () {\n    this.image = new Image();\n    this.image.src = \"./images/writing.png\";\n    this.wall = false;\n}\n\nWriting.prototype = {\n    write: function () {\n        this.wall = true;\n    },\n    draw: function (ctx) {\n        if (this.wall) {\n            ctx.drawImage(this.image, 180, 250, 180, 150);\n        }\n    }\n}\n\nconst Shadow = function () {\n    this.image = new Image();\n    this.image.src = \"./images/shadow.png\";\n    this.present = true;\n}\n\nShadow.prototype = {\n    gone: function () {\n        this.present = false;\n        window.steps.play();\n    },\n\n    draw: function (ctx) {\n        if (this.present) {\n            ctx.drawImage(this.image, 200, 275, 50, 175);\n        }\n    }\n}\n\nconst Bed = function () {\n    this.image = new Image();\n    this.image.src = \"./images/bed.png\";\n    this.sy = 0;\n    this.opened = false;\n}\n\nBed.prototype = {\n    open: function() {\n        this.sy = 1200;\n        this.opened = true;\n    },\n    draw: function (ctx) {\n        ctx.drawImage(this.image, 0, this.sy, 1200, 1200, -65, 300, 350, 350);\n    }\n}\n\nconst Table = function () {\n    this.image = new Image();\n    this.image.src = \"./images/beforetable.png\";\n    this.surprised = false;\n}\n\nTable.prototype = {\n    surprise: function () {\n        this.surprised = true;\n        window.coinsound.play();\n        window.skullsound.play();\n    },\n    draw: function (ctx) {\n        if (this.surprised) {\n            this.image.src = \"./images/aftertable.png\";\n        }\n        ctx.drawImage(this.image, 570, 250, 250, 250);\n    }\n}\n\nconst Title = function () {\n    this.image = new Image();\n    this.image.src = \"./images/title.png\";\n    this.phrase = [\n                \"Press: \",\n                \"'enter' to start\",\n                \"'arrows' to move\", \n                \"'space' for interactions\", \n                \"'i' for inventory\",\n                \"'m' to toggle music\",\n            ]\n}\n\nTitle.prototype = {\n    draw: function (ctx) {\n        ctx.drawImage(this.image, 30, 0, 800, 600);\n        ctx.font = '14px \"Press Start 2P\"';\n        this.phrase.forEach((line, idx) => {\n            let y = (idx + 1) * 30 + 325;\n            ctx.fillText(line, 390, y);\n        })\n    }\n}\n\n\nmodule.exports = { Writing, Shadow, Bed, Table, Title };","const Key = function () {\n    this.image = new Image();\n    this.image.src = \"./images/key.png\";\n    this.found = false;\n    this.displayw = 90;\n    this.displayh = 90;\n    this.content = [\"It's a key.\", \"It fits the trap door perfectly.\"]\n}\n\nKey.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n            ctx.drawImage(this.image, 490, 370, 60, 60);\n        }\n    }\n}\n\nconst Letter1 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter3.png\";\n    this.content = \n        [\n        \"Dear Diary,\", \n        \"When I first saw Tom, I fell in love with him.\",\n        \"It's destined. Tom and me TOGETHER. Although\",\n        \"Tom doesn't know who I am, we will meet soon.\",\n        \"He is not ready for me yet. I really hope he \",\n        \"likes me.. unlike the other guys.\",\n        \"HOW DARE THEY TO REJECT ME! Doesn't matter.. \",\n        \"They are all dead and buried under me HAHA\",\n        \"Tom better like me.. or he'll be joining them!\"\n    ]\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n}\n\nLetter1.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n        ctx.drawImage(this.image, 90, 440, 40, 40);\n        }\n    }\n}\n\nconst Letter2 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter2.png\";\n    this.content =\n        [\n            \"Dear Diary,\",\n            \"Our eyes met. And he didn't look away from me.\",\n            \"My love. I guess that means he's ready to take \",\n            \"the vow. I can already imagine us, Tom and I,\",\n            \"standing at the podium. HAHA I cannot continue\",\n            \"for my heart flutters too vigorously!\",\n            \"It's time for us to meet Tom. I will be under\",\n            \"your bed tonight for a special surprise!\",\n            \"Surprise event for our first encounter!\"\n        ]\n\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n}\n\nLetter2.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n            ctx.drawImage(this.image, 660, 320, 40, 40);\n        }\n    }\n}\n\nconst Letter3 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter1.png\";\n    this.content =\n        [\n            \"HOW DARE HE\",\n            \" \",\n            \"IF I CAN'T HAVE TOM\",\n            \" \",\n            \"NOBODY CAN\",\n            \" \",\n            \"I'LL KEEP TOM FOREVER MINE\",\n            \" \",\n            \"FIRST I'LL KILL HIM SO HE CAN'T REFUSE!\"\n        ]\n    this.present = false;\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n}\n\nLetter3.prototype = {\n    discover: function () {\n        this.present = true;\n    },\n\n    draw: function (ctx) {\n        if (this.present && !this.found) {\n            ctx.drawImage(this.image, 230, 375, 40, 40);\n        }\n    }\n}\n\nmodule.exports = { Key, Letter1, Letter2, Letter3 };","class GameView {\n    constructor(game, ctx) {\n        this.ctx = ctx;\n        this.game = game;\n        this.tom = this.game.addTom();\n    }\n    \n    start() {\n        this.lastTime = 0;\n        requestAnimationFrame(this.animate.bind(this));\n    }\n\n\n\n    animate(time) {\n        this.game.play(this.ctx);\n        this.lastTime = time;\n\n        requestAnimationFrame(this.animate.bind(this));\n    }\n  \n}\n\nmodule.exports = GameView","export default class Tom {\n    constructor(pos) {\n        this.image = new Image();\n        this.image.src = \"./images/right.png\"\n        this.width = 200;\n        this.height = 200;\n        this.sx = 0;\n        this.sy = 0;\n        this.sh = 1200;\n        this.sw = 1200;\n        this.blockedr = false;\n        this.blockedl = false;\n        this.blockedu = false;\n        this.blockedd = false;\n        this.count = 0;\n    }\n\n    checkCollision(pos) {\n        if ((pos.x >= 12 && pos.x < 101) && (pos.y > 288 && pos.y < 292)) {\n            this.blockedd = true;\n        } else {\n            this.blockedd = false;\n        }\n\n        if (pos.x < 60 && (pos.y > 240 && pos.y < 290)){\n            this.blockedl = true;\n        } else if (pos.x < 105 && (pos.y > 290 && pos.y < 350)) {\n            this.blockedl = true;\n        } else if (pos.x < 78 && (pos.y >= 350 && pos.y < 390)) {\n            this.blockedl = true;\n        } else {\n            this.blockedl = false;\n        }\n\n        if (pos.x >= 74 && pos.x < 101 && pos.y === 355) {\n            this.blockedu = true;\n        } else if (pos.x < 75 && pos.y > 390 && pos.y <395 ) {\n            this.blockedu = true;\n        } else if (pos.x > 462 && pos.y < 289) {\n            this.blockedu = true;\n        } else {\n            this.blockedu = false;\n        }\n\n        if (pos.x > 460 && pos.y >= 250 && pos.y < 285 ) {\n            this.blockedr = true;\n        } else {\n            this.blockedr = false;\n        }\n\n    }\n    \n    draw(obj) {\n        if (window.rightPressed && !window.items) {\n            this.image.src = \"./images/right.png\"\n        } else if (window.leftPressed && !window.items) {\n            this.image.src = \"./images/left.png\"\n        }\n\n        if (window.upPressed && !window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.downPressed && !window.leftPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.upPressed && window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.downPressed && window.leftPressed && !window.items) {\n            window.frames += 150;\n        } else if (!window.upPressed && window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (!window.downPressed && window.leftPressed && !window.items) {\n            window.frames += 150;\n        }\n        \n        switch (window.frames) {\n            case 0:\n                this.sy = 0;\n                break;\n            case 1200:\n                this.sy = 1200;\n                break;\n            case 2400:\n                this.sy = 2400;\n                break;\n            case 3600:\n                this.sy = 3600;\n                break;\n            case 4800:\n                this.sy = 4800;\n                break;\n            case 6000:\n                this.sy = 6000;\n                break;\n            case 7200:\n                this.sy = 0;\n                window.frames = 0;\n                this.count += 1;\n                break;\n            default:\n                break;\n        }\n\n        if (window.frames > 7200) {\n            this.sy = 0;\n            window.frames = 0;\n        }\n        window.getpos = [[obj.x, obj.y], this.count];\n    obj.ctx.drawImage(this.image, this.sx, this.sy, this.sw, this.sh, obj.x, obj.y, this.width, this.height);\n    }\n}\n\n","export default class Door {\n    constructor(char) {\n        this.image = new Image();\n        this.image.src = \"./images/door.png\";\n        this.width = 165;\n        this.height = 60;\n        this.X = 550;\n        this.Y = 450;\n        this.opened = false;\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.image, this.X, this.Y, this.width, this.height);\n    }\n}\n\n","export default class Paint {\n    constructor(obj) {\n        this.image = new Image();\n        this.image.src = \"./images/paint1.png\";\n        this.width = 100;\n        this.height = 120;\n        this.X = 480;\n        this.Y = 200;\n        this.falling = false;\n        this.dropped = false;\n    }\n\n    dropPaint() {\n        this.falling = true;\n    }\n\n    draw(ctx) {\n        if (this.falling && this.Y < 340) {\n                this.Y += 10;\n            window.dropsound.play();\n        }\n\n        if (this.Y === 340) {\n            this.falling = false;\n            this.dropped = true;\n            this.image.src = './images/paint2.png';\n            this.width = 130;\n            this.height = 45;\n            this.X = 450;\n            this.Y += 45;\n            window.dropsound.pause();\n        }\n        ctx.drawImage(this.image, this.X, this.Y, this.width, this.height);\n    }\n}\n\n","export default class Inventory{\n    constructor() {\n        this.items = [];\n        this.image = new Image();\n        this.image.src = \"./images/inventory.png\";\n        this.dx = 28;\n        this.dy = 30;\n    }\n    \n    add(item) {\n        this.items.push(item);\n    }\n    \n    draw(ctx) {\n        ctx.drawImage(this.image, this.dx, this.dy, 750, 120);\n        this.items.forEach ((item, idx) => {\n            let x = (idx + 1) * 142;\n            let y = this.dy + 102 - item.displayh;\n            ctx.drawImage(item.image, x, y, item.displayw, item.displayh)\n        })\n    }\n}","export default class Teller {\n    constructor(){\n        this.image = new Image();\n        this.image.src = './images/teller.png';\n        this.phrase = [\"...\", \"Where.. am I?\", \"Who am I?\"];\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.image, 104, 330, 600, 280)\n    }\n\n    talk({ ctx, pos, interactables }) {\n        const inven = interactables.inventory;\n        if ( \n            ((pos.x > 375 && pos.x < 460) && (pos.y > 249 && pos.y < 280))\n            && (!interactables.key.found && interactables.paint.dropped)\n        ) {\n            this.phrase = [\"There is a key here\"];\n            window.keysound.play();\n            inven.add(interactables.key);\n            interactables.key.found = true;\n        } else if (    \n            ((pos.x > 450 && pos.x < 550) && (pos.y > 300 && pos.y < 360))\n            && (interactables.key.found && !inven.full)\n        ) {\n            this.phrase = [\"I can't leave yet..\", \"I have to remember who I am..\"]\n        } else if (\n            (pos.x > 123 && pos.x < 213) && (pos.y > 240 && pos.y < 259)\n        ) {\n            if (interactables.shadow.present && interactables.paint.dropped ){\n                this.phrase = [\"I thought I saw someone..\", \"...\", \"Was this writing always here?\"]\n            } else if (!interactables.shadow.present && !interactables.letter3.found) {\n                this.phrase = [\"There is a part of a diary.\",\n                               \"I thought I heard something\",\n                               \"around here.. What was it?\"];\n                inven.add(interactables.letter3);\n                interactables.letter3.found = true;\n            }\n        } else if (\n            ((pos.x > 50 && pos.x < 108) && (pos.y > 322 && pos.y < 380) && !interactables.bed.opened)\n        ) {\n            window.bedsound.play();\n            interactables.bed.open();\n            this.phrase = [\"There is something under\", \"the bed sheet.\", \"It's a part of a diary.\"]\n            inven.add(interactables.letter1);\n            interactables.letter1.found = true;\n        } else if (\n            ((pos.x > 539 && pos.x < 618) && (pos.y > 285 && pos.y < 298))\n            && (!interactables.letter2.found)\n        ){ \n            window.bedsound.play();\n            this.phrase = [\"What happened?\", \"Where is this from?\"]\n            interactables.letter2.found = true;\n            inven.add(interactables.letter2);\n        } \n\n\n        this.draw(ctx);\n        ctx.font = '16px \"Press Start 2P\"';\n        this.phrase.forEach( (line, idx) => {\n            let y = (idx + 1) * 45 + 385;\n            ctx.fillText(line, 175, y);\n        })\n    }\n\n    \n}","export default class Iscreen {\n    constructor() {\n        this.image = new Image();\n        this.image.src = './images/iscreen.png';\n        this.select = new Image();\n        this.select.src = './images/select.png';\n        this.first = true;\n        this.second = false;\n        this.third = false;\n        this.fourth = false;\n    }\n\n    moveRight() {\n        if (this.first) {\n            this.first = false;\n            this.second = true;\n        } else if (this.second) {\n            this.second = false;\n            this.third = true;\n        } else if (this.third) {\n            this.third = false;\n            this.fourth = true;\n        } else if (this.fourth) {\n            this.fourth = false;\n            this.first = true;\n        }\n    }\n\n    moveLeft() {\n        if (this.first) {\n            this.first = false;\n            this.fourth = true;\n        } else if (this.second) {\n            this.second = false;\n            this.first = true;\n        } else if (this.third) {\n            this.third = false;\n            this.second = true;\n        } else if (this.fourth) {\n            this.fourth = false;\n            this.third = true;\n        }\n    }\n\n    drawTab(ctx) {\n        ctx.drawImage(this.image, 20, 20, 757, 720);\n    }\n\n    drawSelector(ctx) {\n        if (this.first) {\n            ctx.drawImage(this.select, 128, 30, 120, 120);\n        } else if (this.second) {\n            ctx.drawImage(this.select, 268, 30, 120, 120);\n        } else if (this.third) {\n            ctx.drawImage(this.select, 408, 30, 120, 120);\n        } else if (this.fourth) {\n            ctx.drawImage(this.select, 548, 30, 120, 120);\n        }\n    }\n\n    open({ ctx, inventory }) {\n        const inven = inventory.items;\n\n        this.drawTab(ctx);\n        this.drawSelector(ctx);\n        ctx.font = '14px \"Press Start 2P\"';\n        let content;\n        if (this.first) {\n            if (inven[0]) {\n                debugger\n                content = inven[0].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.second) {\n            if (inven[1]) {\n                content = inven[1].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.third) {\n            if (inven[2]) {\n                content = inven[2].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.fourth) {\n            if (inven[3]) {\n                content = inven[3].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        }\n\n        content.forEach((line, idx) => {\n            let y = (idx + 1) * 45 + 150;\n            ctx.fillText(line, 80, y);\n        })\n    }\n\n\n}","import Tom from './tom.js';\nimport Door from './level1/door.js';\nimport Paint from './level1/painting.js';\nimport Objects from './objects.js';\nimport Inventory from './inventory.js';\nimport Items from './level1/items.js';\nimport Teller from './teller.js';\nimport Iscreen from './iscreen.js';\n\nexport default class Game {\n    constructor(ctx) {\n        this.teller = new Teller();\n        this.background = new Image();\n        this.background.src = './images/background.png';\n        this.filterImg = new Image();\n        this.filterImg.src = './images/filter.png';\n        this.tom = null;\n        this.X = 30;\n        this.Y = 400;\n        this.iscreen = new Iscreen();\n        this.objects = {\n            door: new Door(),\n            paint: new Paint(),\n            writing: new Objects.Writing(),\n            shadow: new Objects.Shadow(),\n            bed: new Objects.Bed(),\n            inventory: new Inventory(),\n            key: new Items.Key(),\n            letter1: new Items.Letter1(),\n            table: new Objects.Table(),\n            letter2: new Items.Letter2(),\n            letter3: new Items.Letter3(),\n            title: new Objects.Title()\n        }\n        this.selectCount = 0;\n    }\n\n    addTom() {\n        this.tom = new Tom();\n        return this.tom;\n    }\n\n    play(ctx) {\n        if ((window.rightPressed && this.X < 630) && window.gameOn) {\n            if (!window.items && !this.tom.blockedr) {\n                this.X += 3;\n            } else {\n                this.selectCount += 1;\n                if (this.selectCount === 5) {\n                    this.selectCount = 0;\n                    this.iscreen.moveRight();\n                }\n            }\n            if (this.objects.inventory.items.length > 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        } else if ((window.leftPressed && this.X > -50) && window.gameOn) {\n            if (!window.items && !this.tom.blockedl) {\n                this.X -= 3;\n            } else {\n                this.selectCount += 1;\n                if (this.selectCount === 5) {\n                    this.selectCount = 0;\n                    this.iscreen.moveLeft();\n                }\n            }\n            if (this.objects.inventory.items.length > 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        }\n        if ((window.upPressed && this.Y > 250) && !this.tom.blockedu && window.gameOn) {\n            if (!window.items) {\n                this.Y -= 3;\n            }\n            if (this.objects.inventory.items.length > 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        } else if ((window.downPressed && this.Y < 450) && !this.tom.blockedd && window.gameOn) {\n            if (!window.items) {\n                this.Y += 3;\n            }\n            if (this.objects.inventory.items.length > 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        }\n\n        if ((this.X > 440 && this.X < 460)&& this.Y < 300) {\n            this.objects.paint.dropPaint();\n        }\n\n        ctx.clearRect(0, 0, 800, 600);\n        ctx.fillRect(0, 0, 800, 600);\n        ctx.drawImage(this.background, 0, 0, 800, 600);\n        this.objects.door.draw(ctx);\n        this.objects.paint.draw(ctx);\n        this.objects.table.draw(ctx);\n        if (this.objects.paint.dropped) {\n            this.objects.key.draw(ctx);\n            this.objects.writing.write();\n        }\n        this.objects.writing.draw(ctx);\n        if (this.tom.count === 15 && window.gameOn) {\n            this.objects.table.surprise();\n            this.tom.count += 1;\n        }\n        if (this.tom.count === 25 && window.gameOn) {\n            this.objects.shadow.gone();\n            this.objects.letter3.discover();\n            this.tom.count += 1;\n        }\n        if (this.objects.table.surprised) {\n            this.objects.letter2.draw(ctx);\n        }\n        this.objects.letter3.draw(ctx);\n        this.tom.checkCollision({ x: this.X, y: this.Y })\n        if (this.X < 150 && this.Y < 320) {\n            this.tom.draw({ ctx, x: this.X, y: this.Y });\n            if (this.objects.bed.opened) {\n                this.objects.letter1.draw(ctx);\n            }\n            this.objects.bed.draw(ctx);\n        } else {\n            this.objects.bed.draw(ctx);\n            if (this.objects.bed.opened) {\n                this.objects.letter1.draw(ctx);\n            }\n            this.tom.draw({ctx: ctx, x: this.X, y: this.Y});\n        }\n        if (this.X > 275) {\n            this.objects.shadow.draw(ctx);\n        }\n\n        ctx.drawImage(this.filterImg, this.X - 700, this.Y - 710, 1600, 1600)\n        \n        if (window.gameOn) {\n            this.objects.inventory.draw(ctx);\n        } else {\n            this.objects.title.draw(ctx);\n        }\n\n        if (window.telling) {\n            let interactables = this.objects;\n            let pos = {x: this.X, y: this.Y};\n            this.teller.talk({ ctx, pos, interactables });\n        }\n\n        if (window.items) {\n            let inventory = this.objects.inventory;\n            this.iscreen.open({ ctx, inventory });\n        }\n    }\n\n    moveObjects(delta) {\n        this.allObjects().forEach((object) => {\n            object.move(delta);\n        });\n    }\n\n    add(object) {\n        if (object instanceof paint) {\n            this.paintings.push(object);\n        }\n    }\n\n    allObjects() {\n        return [].concat([]);\n    }\n\n    step(delta) {\n        this.moveObjects(delta);\n    }\n\n\n    // splash() {\n    //     var img = new Image();\n\n    //     img.onload = function () {\n    //         ctx.drawImage(img, 1, 1);\n    //     };\n            \n    //     img.src = \"./images/right.png\";\n    // }\n}","import Game from './game.js';\nimport GameView from './game_view.js';\n\n\n\nconst canvasEl = document.getElementById(\"game-canvas\");\ncanvasEl.width = 800;\ncanvasEl.height = 600;\n\nif (window.gameOn) {\n    let ctx = canvasEl.getContext(\"2d\");\n    let game = new Game(ctx);\n    new GameView(game, ctx).start();\n} else {\n    let ctx = canvasEl.getContext(\"2d\");\n    let game = new Game(ctx);\n    new GameView(game, ctx).start();\n}\n\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\n\nconst snd = new Audio(\"./escape.mp3\");\nsnd.addEventListener(\"ended\", function () {\n    this.currentTime = 0;\n    this.play();\n}, false);\nsnd.play();\n\nwindow.dropsound = new Audio(\"./drop.mp3\");\nwindow.bedsound = new Audio(\"./bed.mp3\");\nwindow.keysound = new Audio(\"./key.mp3\");\nwindow.skullsound = new Audio(\"./skull.mp3\");\nwindow.coinsound = new Audio(\"./change.mp3\");\nwindow.steps = new Audio(\"./steps.mp3\");\nwindow.telling = false;\nwindow.items = false;\nwindow.gameOn = false;\n\nwindow.frames = 0;\n\nfunction keyDownHandler(e) {\n    if (e.keyCode === 39 && (!window.telling)) {\n        window.rightPressed = true;\n        window.walkingRight = true;\n    }\n    else if (e.keyCode === 37 && (!window.telling)) {\n        window.leftPressed = true;\n        window.walkingLeft = true;\n    }\n    if (e.keyCode === 38 && (!window.telling)) {\n        window.upPressed = true;\n        window.walkingRight = true;\n    } else if (e.keyCode === 40 && (!window.telling)) {\n        window.downPressed = true;\n        window.walkingLeft = true;\n    }  \n    if (e.keyCode === 77) {\n        if (snd.paused) {\n            snd.play();\n        } else {\n            snd.pause();\n        }\n    }\n\n    if (e.keyCode === 32 && window.gameOn) {\n        if (window.telling) {\n            window.telling = false;\n        } else {\n            window.telling = true;\n        }\n    }\n    \n    if (e.keyCode === 73 && window.gameOn) {\n        if (window.items) {\n            window.items = false;\n        } else {\n            window.items = true;\n        }\n    } \n\n    if (e.keyCode === 13) {\n        if (!window.gameOn) {\n            window.gameOn = true;\n            snd.play();\n        }\n    }\n}\n\nfunction keyUpHandler(e) {\n    if (e.keyCode === 39) {\n        window.rightPressed = false;\n        window.walkingRight = false;\n    }\n    else if (e.keyCode === 37) {\n        window.leftPressed = false;\n        window.walkingLeft = false;\n    }\n    if (e.keyCode === 38) {\n        window.upPressed = false;\n        window.walkingRight = false;\n    }\n    else if (e.keyCode === 40) {\n        window.downPressed = false;\n        window.walkingLeft = false;\n    }\n}"],"sourceRoot":""}