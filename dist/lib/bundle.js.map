{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/objects.js","webpack:///./lib/level1/items.js","webpack:///./lib/game_view.js","webpack:///./lib/tom.js","webpack:///./lib/level1/door.js","webpack:///./lib/level1/painting.js","webpack:///./lib/inventory.js","webpack:///./lib/teller.js","webpack:///./lib/iscreen.js","webpack:///./lib/game.js","webpack:///./lib/escape.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Writing","this","image","Image","src","wall","write","draw","ctx","drawImage","Shadow","present","gone","window","steps","play","Bed","sy","opened","open","Table","surprised","surprise","coinsound","skullsound","Title","phrase","gameEnding","font","forEach","line","idx","y","fillText","Ending","Key","found","displayw","displayh","content","read","Letter1","Letter2","Letter3","discover","[object Object]","game","tom","addTom","lastTime","requestAnimationFrame","animate","time","Tom","pos","width","height","sx","sh","sw","blockedr","blockedl","blockedu","blockedd","count","x","obj","rightPressed","items","leftPressed","upPressed","downPressed","frames","getpos","Door","char","X","Y","Paint","falling","dropped","dropsound","pause","Inventory","dx","dy","full","item","push","length","Teller","interactables","inven","inventory","paint","keysound","add","letter1","letter2","letter3","shadow","bed","bedsound","table","Iscreen","select","first","second","third","fourth","drawTab","drawSelector","game_Game","teller","background","filterImg","iscreen","objects","door","writing","objects_default","a","items_default","title","ending","selectCount","intro","over","gameOn","moveRight","moveLeft","dropPaint","clearRect","fillRect","checkCollision","telling","talk","paintings","canvasEl","document","getElementById","getContext","game_view_default","start","addEventListener","e","keyCode","preventDefault","walkingLeft","walkingRight","snd","paused","Audio","currentTime","gameOver"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","const Writing = function () {\n    this.image = new Image();\n    this.image.src = \"./images/writing.png\";\n    this.wall = false;\n}\n\nWriting.prototype = {\n    write: function () {\n        this.wall = true;\n    },\n    draw: function (ctx) {\n        if (this.wall) {\n            ctx.drawImage(this.image, 180, 250, 180, 150);\n        }\n    }\n}\n\nconst Shadow = function () {\n    this.image = new Image();\n    this.image.src = \"./images/shadow.png\";\n    this.present = true;\n}\n\nShadow.prototype = {\n    gone: function () {\n        this.present = false;\n        window.steps.play();\n    },\n\n    draw: function (ctx) {\n        if (this.present) {\n            ctx.drawImage(this.image, 200, 275, 50, 175);\n        }\n    }\n}\n\nconst Bed = function () {\n    this.image = new Image();\n    this.image.src = \"./images/bed.png\";\n    this.sy = 0;\n    this.opened = false;\n}\n\nBed.prototype = {\n    open: function() {\n        this.sy = 1200;\n        this.opened = true;\n    },\n    draw: function (ctx) {\n        ctx.drawImage(this.image, 0, this.sy, 1200, 1200, -65, 300, 350, 350);\n    }\n}\n\nconst Table = function () {\n    this.image = new Image();\n    this.image.src = \"./images/beforetable.png\";\n    this.surprised = false;\n}\n\nTable.prototype = {\n    surprise: function () {\n        this.surprised = true;\n        window.coinsound.play();\n        window.skullsound.play();\n    },\n    draw: function (ctx) {\n        if (this.surprised) {\n            this.image.src = \"./images/aftertable.png\";\n        }\n        ctx.drawImage(this.image, 570, 250, 250, 250);\n    }\n}\n\nconst Title = function () {\n    this.image = new Image();\n    this.image.src = \"./images/title.png\";\n    this.phrase = [\n                \"Press: \",\n                \"'enter' to start\",\n                \"'arrows' to move\", \n                \"'space' for interactions\", \n                \"'i' for inventory\",\n                \"'m' to toggle music\",\n            ]\n}\n\nTitle.prototype = {\n    draw: function (ctx) {\n        if (!window.gameEnding) {\n            ctx.drawImage(this.image, 30, 0, 800, 600);\n            ctx.font = '14px \"Press Start 2P\"';\n            this.phrase.forEach((line, idx) => {\n                let y = (idx + 1) * 30 + 325;\n                ctx.fillText(line, 390, y);\n            })\n        }\n    }\n}\n\nconst Ending = function () {\n    this.image = new Image();\n    this.image.src = \"./images/ending.png\";\n    this.phrase = [\n        \"You successfully escape\",\n        \"with recovered memory.\",\n        \"Soon after, you hear her\",\n        \"devilish scream..\",\n        \"Hopefully you will never\",\n        \"encounter her again..\",\n        \"Thanks for playing\"\n    ]\n}\n\nEnding.prototype = {\n    draw: function (ctx) {\n        ctx.drawImage(this.image, 30, 0, 800, 600);\n        ctx.font = '14px \"Press Start 2P\"';\n        this.phrase.forEach((line, idx) => {\n            let y = (idx + 1) * 30 + 325;\n            ctx.fillText(line, 108, y);\n        })\n    }\n}\n\n\nmodule.exports = { Writing, Shadow, Bed, Table, Title, Ending };","const Key = function () {\n    this.image = new Image();\n    this.image.src = \"./images/key.png\";\n    this.found = false;\n    this.displayw = 90;\n    this.displayh = 90;\n    this.content = [\"It's a key.\", \"It fits the trap door perfectly.\"],\n    this.read = false;\n}\n\nKey.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n            ctx.drawImage(this.image, 490, 370, 60, 60);\n        }\n    }\n}\n\nconst Letter1 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter3.png\";\n    this.content = \n        [\n        \"Dear Diary,\", \n        \"When I first saw Tom, I fell in love with him.\",\n        \"It's destined. Tom and me TOGETHER. Although\",\n        \"Tom doesn't know who I am, we will meet soon.\",\n        \"He is not ready for me yet. I really hope he \",\n        \"likes me.. unlike the other guys.\",\n        \"HOW DARE THEY TO REJECT ME! Doesn't matter.. \",\n        \"They are all dead and buried under me HAHA\",\n        \"Tom better like me.. or he'll be joining them!\"\n    ]\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n    this.read = false;\n}\n\nLetter1.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n        ctx.drawImage(this.image, 90, 440, 40, 40);\n        }\n    }\n}\n\nconst Letter2 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter2.png\";\n    this.content =\n        [\n            \"Dear Diary,\",\n            \"Our eyes met. And he didn't look away from me.\",\n            \"My love. I guess that means he's ready to take \",\n            \"the vow. I can already imagine us, Tom and I,\",\n            \"standing at the podium. HAHA I cannot continue\",\n            \"for my heart flutters too vigorously!\",\n            \"It's time for us to meet Tom. I will be under\",\n            \"your bed tonight for a special surprise!\",\n            \"Surprise event for our first encounter!\"\n        ]\n\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n    this.read = false;\n}\n\nLetter2.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n            ctx.drawImage(this.image, 660, 320, 40, 40);\n        }\n    }\n}\n\nconst Letter3 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter1.png\";\n    this.content =\n        [\n            \"HOW DARE HE\",\n            \" \",\n            \"IF I CAN'T HAVE TOM\",\n            \" \",\n            \"NOBODY CAN\",\n            \" \",\n            \"I'LL KEEP TOM FOREVER MINE\",\n            \" \",\n            \"FIRST I'LL KILL HIM SO HE CAN'T REFUSE!\"\n        ]\n    this.present = false;\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n    this.read = false;\n}\n\nLetter3.prototype = {\n    discover: function () {\n        this.present = true;\n    },\n\n    draw: function (ctx) {\n        if (this.present && !this.found) {\n            ctx.drawImage(this.image, 230, 375, 40, 40);\n        }\n    }\n}\n\nmodule.exports = { Key, Letter1, Letter2, Letter3 };","class GameView {\n    constructor(game, ctx) {\n        this.ctx = ctx;\n        this.game = game;\n        this.tom = this.game.addTom();\n    }\n    \n    start() {\n        this.lastTime = 0;\n        requestAnimationFrame(this.animate.bind(this));\n    }\n\n\n\n    animate(time) {\n        this.game.play(this.ctx);\n        this.lastTime = time;\n\n        requestAnimationFrame(this.animate.bind(this));\n    }\n  \n}\n\nmodule.exports = GameView","export default class Tom {\n    constructor(pos) {\n        this.image = new Image();\n        this.image.src = \"./images/right.png\"\n        this.width = 200;\n        this.height = 200;\n        this.sx = 0;\n        this.sy = 0;\n        this.sh = 1200;\n        this.sw = 1200;\n        this.blockedr = false;\n        this.blockedl = false;\n        this.blockedu = false;\n        this.blockedd = false;\n        this.count = 0;\n    }\n\n    checkCollision(pos) {\n        if ((pos.x >= 12 && pos.x < 101) && (pos.y > 288 && pos.y < 292)) {\n            this.blockedd = true;\n        } else {\n            this.blockedd = false;\n        }\n\n        if (pos.x < 60 && (pos.y > 240 && pos.y < 290)){\n            this.blockedl = true;\n        } else if (pos.x < 105 && (pos.y > 290 && pos.y < 350)) {\n            this.blockedl = true;\n        } else if (pos.x < 78 && (pos.y >= 350 && pos.y < 390)) {\n            this.blockedl = true;\n        } else {\n            this.blockedl = false;\n        }\n\n        if (pos.x >= 74 && pos.x < 101 && pos.y === 355) {\n            this.blockedu = true;\n        } else if (pos.x < 75 && pos.y > 390 && pos.y <395 ) {\n            this.blockedu = true;\n        } else if (pos.x > 462 && pos.y < 289) {\n            this.blockedu = true;\n        } else {\n            this.blockedu = false;\n        }\n\n        if (pos.x > 460 && pos.y >= 250 && pos.y < 285 ) {\n            this.blockedr = true;\n        } else {\n            this.blockedr = false;\n        }\n\n    }\n    \n    draw(obj) {\n        if (window.rightPressed && !window.items) {\n            this.image.src = \"./images/right.png\"\n        } else if (window.leftPressed && !window.items) {\n            this.image.src = \"./images/left.png\"\n        }\n\n        if (window.upPressed && !window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.downPressed && !window.leftPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.upPressed && window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.downPressed && window.leftPressed && !window.items) {\n            window.frames += 150;\n        } else if (!window.upPressed && window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (!window.downPressed && window.leftPressed && !window.items) {\n            window.frames += 150;\n        }\n        \n        switch (window.frames) {\n            case 0:\n                this.sy = 0;\n                break;\n            case 1200:\n                this.sy = 1200;\n                break;\n            case 2400:\n                this.sy = 2400;\n                break;\n            case 3600:\n                this.sy = 3600;\n                break;\n            case 4800:\n                this.sy = 4800;\n                break;\n            case 6000:\n                this.sy = 6000;\n                break;\n            case 7200:\n                this.sy = 0;\n                window.frames = 0;\n                this.count += 1;\n                break;\n            default:\n                break;\n        }\n\n        if (window.frames > 7200) {\n            this.sy = 0;\n            window.frames = 0;\n        }\n        window.getpos = [[obj.x, obj.y], this.count];\n    obj.ctx.drawImage(this.image, this.sx, this.sy, this.sw, this.sh, obj.x, obj.y, this.width, this.height);\n    }\n}\n\n","export default class Door {\n    constructor(char) {\n        this.image = new Image();\n        this.image.src = \"./images/door.png\";\n        this.width = 165;\n        this.height = 60;\n        this.X = 550;\n        this.Y = 450;\n        this.opened = false;\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.image, this.X, this.Y, this.width, this.height);\n    }\n}\n\n","export default class Paint {\n    constructor(obj) {\n        this.image = new Image();\n        this.image.src = \"./images/paint1.png\";\n        this.width = 100;\n        this.height = 120;\n        this.X = 480;\n        this.Y = 200;\n        this.falling = false;\n        this.dropped = false;\n    }\n\n    dropPaint() {\n        this.falling = true;\n    }\n\n    draw(ctx) {\n        if (this.falling && this.Y < 340) {\n                this.Y += 10;\n            window.dropsound.play();\n        }\n\n        if (this.Y === 340) {\n            this.falling = false;\n            this.dropped = true;\n            this.image.src = './images/paint2.png';\n            this.width = 130;\n            this.height = 45;\n            this.X = 450;\n            this.Y += 45;\n            window.dropsound.pause();\n        }\n        ctx.drawImage(this.image, this.X, this.Y, this.width, this.height);\n    }\n}\n\n","export default class Inventory{\n    constructor() {\n        this.items = [];\n        this.image = new Image();\n        this.image.src = \"./images/inventory.png\";\n        this.dx = 28;\n        this.dy = 30;\n        this.full = false;\n    }\n    \n    add(item) {\n        this.items.push(item);\n    }\n    \n    draw(ctx) {\n        if (this.items.length > 3) {\n            this.full = true;\n        }\n\n        ctx.drawImage(this.image, this.dx, this.dy, 750, 120);\n        this.items.forEach ((item, idx) => {\n            let x = (idx + 1) * 142;\n            let y = this.dy + 102 - item.displayh;\n            ctx.drawImage(item.image, x, y, item.displayw, item.displayh)\n        })\n    }\n}","export default class Teller {\n    constructor(){\n        this.image = new Image();\n        this.image.src = './images/teller.png';\n        this.phrase = [\"I woke up to a musky odor..\", \"Where.. am I?\", \"Who am I? I must.. find out..\"];\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.image, 104, 330, 600, 280)\n    }\n\n    talk({ ctx, pos, interactables }) {\n        const inven = interactables.inventory;\n        if (\n            ((pos.x > 375 && pos.x < 460) && (pos.y > 249 && pos.y < 280))\n            && (!interactables.key.found && interactables.paint.dropped)\n        ) {\n            this.phrase = [\"There is a key here\"];\n            window.keysound.play();\n            inven.add(interactables.key);\n            interactables.key.found = true;\n        } else if (\n            ((pos.x > 450 && pos.x < 550) && (pos.y > 300 && pos.y < 360))\n        ) {\n            if (interactables.key.found && !inven.full){\n                this.phrase = [\"I can't leave yet..\", \"I have to remember who I am..\"]\n            } else if (!interactables.key.found) {\n                this.phrase = [\"It's a trap door that leads\", \"to outside. But it's locked.\"]\n            } else if (inven.full && (!interactables.key.read || !interactables.letter1.read || !interactables.letter2.read || !interactables.letter3.read)) {\n                this.phrase = [\"I should probably read the\", \"pieces of diary first...\"]\n            } else if (inven.full && interactables.key.read && interactables.letter1.read && interactables.letter2.read && interactables.letter3.read) {\n                this.phrase = [\".. I remember now.. My name\", \"is Tom. This person will kill\", \"me if I don't leave...\"];\n                window.gameEnding = true;\n            }\n        } else if (\n            (pos.x > 123 && pos.x < 213) && (pos.y > 240 && pos.y < 259)\n        ) {\n            if (interactables.shadow.present && interactables.paint.dropped ){\n                this.phrase = [\"I thought I saw someone..\", \"...\", \"Was this writing always here?\"]\n            } else if (!interactables.shadow.present && !interactables.letter3.found) {\n                this.phrase = [\"There is a part of a diary.\",\n                               \"I thought I heard something\",\n                               \"around here.. What was it?\"];\n                inven.add(interactables.letter3);\n                interactables.letter3.found = true;\n            }\n        } else if (\n            ((pos.x > 50 && pos.x < 108) && (pos.y > 322 && pos.y < 380) && !interactables.bed.opened)\n        ) {\n            window.bedsound.play();\n            interactables.bed.open();\n            this.phrase = [\"There is something under\", \"the bed sheet.\", \"It's a part of a diary.\"]\n            inven.add(interactables.letter1);\n            interactables.letter1.found = true;\n        } else if (\n            ((pos.x > 539 && pos.x < 618) && (pos.y > 285 && pos.y < 298))\n            && (!interactables.letter2.found && interactables.table.surprised)\n        ){\n            window.bedsound.play();\n            this.phrase = [\"What happened?\", \"Where is this from?\"]\n            interactables.letter2.found = true;\n            inven.add(interactables.letter2);\n        }\n\n\n        this.draw(ctx);\n        ctx.font = '16px \"Press Start 2P\"';\n        this.phrase.forEach( (line, idx) => {\n            let y = (idx + 1) * 45 + 385;\n            ctx.fillText(line, 175, y);\n        })\n    }\n\n\n}\n","export default class Iscreen {\n    constructor() {\n        this.image = new Image();\n        this.image.src = './images/iscreen.png';\n        this.select = new Image();\n        this.select.src = './images/select.png';\n        this.first = true;\n        this.second = false;\n        this.third = false;\n        this.fourth = false;\n    }\n\n    moveRight() {\n        if (this.first) {\n            this.first = false;\n            this.second = true;\n        } else if (this.second) {\n            this.second = false;\n            this.third = true;\n        } else if (this.third) {\n            this.third = false;\n            this.fourth = true;\n        } else if (this.fourth) {\n            this.fourth = false;\n            this.first = true;\n        }\n    }\n\n    moveLeft() {\n        if (this.first) {\n            this.first = false;\n            this.fourth = true;\n        } else if (this.second) {\n            this.second = false;\n            this.first = true;\n        } else if (this.third) {\n            this.third = false;\n            this.second = true;\n        } else if (this.fourth) {\n            this.fourth = false;\n            this.third = true;\n        }\n    }\n\n    drawTab(ctx) {\n        ctx.drawImage(this.image, 20, 20, 757, 720);\n    }\n\n    drawSelector(ctx) {\n        if (this.first) {\n            ctx.drawImage(this.select, 128, 30, 120, 120);\n        } else if (this.second) {\n            ctx.drawImage(this.select, 268, 30, 120, 120);\n        } else if (this.third) {\n            ctx.drawImage(this.select, 408, 30, 120, 120);\n        } else if (this.fourth) {\n            ctx.drawImage(this.select, 548, 30, 120, 120);\n        }\n    }\n\n    open({ ctx, inventory }) {\n        const inven = inventory.items;\n\n        this.drawTab(ctx);\n        this.drawSelector(ctx);\n        ctx.font = '14px \"Press Start 2P\"';\n        let content;\n        if (this.first) {\n            if (inven[0]) {\n                inven[0].read = true;\n                content = inven[0].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.second) {\n            if (inven[1]) {\n                inven[1].read = true;\n                content = inven[1].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.third) {\n            if (inven[2]) {\n                inven[2].read = true;\n                content = inven[2].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.fourth) {\n            if (inven[3]) {\n                inven[3].read = true;\n                content = inven[3].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        }\n\n        content.forEach((line, idx) => {\n            let y = (idx + 1) * 45 + 150;\n            ctx.fillText(line, 80, y);\n        })\n    }\n\n\n}","import Tom from './tom.js';\nimport Door from './level1/door.js';\nimport Paint from './level1/painting.js';\nimport Objects from './objects.js';\nimport Inventory from './inventory.js';\nimport Items from './level1/items.js';\nimport Teller from './teller.js';\nimport Iscreen from './iscreen.js';\n\nexport default class Game {\n    constructor(ctx) {\n        this.teller = new Teller();\n        this.background = new Image();\n        this.background.src = './images/background.png';\n        this.filterImg = new Image();\n        this.filterImg.src = './images/filter.png';\n        this.tom = null;\n        this.X = 30;\n        this.Y = 400;\n        this.iscreen = new Iscreen();\n        this.objects = {\n            door: new Door(),\n            paint: new Paint(),\n            writing: new Objects.Writing(),\n            shadow: new Objects.Shadow(),\n            bed: new Objects.Bed(),\n            inventory: new Inventory(),\n            key: new Items.Key(),\n            letter1: new Items.Letter1(),\n            table: new Objects.Table(),\n            letter2: new Items.Letter2(),\n            letter3: new Items.Letter3(),\n            title: new Objects.Title(),\n            ending: new Objects.Ending(),\n        }\n        this.selectCount = 0;\n        this.intro = false;\n        this.over = false;\n    }\n\n    addTom() {\n        this.tom = new Tom();\n        return this.tom;\n    }\n\n    play(ctx) {\n        if ((window.rightPressed && this.X < 630) && window.gameOn) {\n            if (!window.items && !this.tom.blockedr) {\n                this.X += 3;\n            } else {\n                this.selectCount += 1;\n                if (this.selectCount === 5) {\n                    this.selectCount = 0;\n                    this.iscreen.moveRight();\n                }\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        } else if ((window.leftPressed && this.X > -50) && window.gameOn) {\n            if (!window.items && !this.tom.blockedl) {\n                this.X -= 3;\n            } else {\n                this.selectCount += 1;\n                if (this.selectCount === 5) {\n                    this.selectCount = 0;\n                    this.iscreen.moveLeft();\n                }\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        }\n        if ((window.upPressed && this.Y > 250) && !this.tom.blockedu && window.gameOn) {\n            if (!window.items) {\n                this.Y -= 3;\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        } else if ((window.downPressed && this.Y < 450) && !this.tom.blockedd && window.gameOn) {\n            if (!window.items) {\n                this.Y += 3;\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        }\n\n        if ((this.X > 440 && this.X < 460)&& this.Y < 300) {\n            this.objects.paint.dropPaint();\n        }\n\n        ctx.clearRect(0, 0, 800, 600);\n        ctx.fillRect(0, 0, 800, 600);\n        ctx.drawImage(this.background, 0, 0, 800, 600);\n        this.objects.door.draw(ctx);\n        this.objects.paint.draw(ctx);\n        this.objects.table.draw(ctx);\n        if (this.objects.paint.dropped) {\n            this.objects.key.draw(ctx);\n            this.objects.writing.write();\n        }\n        this.objects.writing.draw(ctx);\n        if (this.tom.count === 20 && window.gameOn) {\n            this.objects.table.surprise();\n            this.tom.count += 1;\n        }\n        if (this.tom.count === 35 && window.gameOn) {\n            this.objects.shadow.gone();\n            this.objects.letter3.discover();\n            this.tom.count += 1;\n        }\n        if (this.objects.table.surprised) {\n            this.objects.letter2.draw(ctx);\n        }\n        this.objects.letter3.draw(ctx);\n        this.tom.checkCollision({ x: this.X, y: this.Y })\n        if (this.X < 150 && this.Y < 320) {\n            this.tom.draw({ ctx, x: this.X, y: this.Y });\n            if (this.objects.bed.opened) {\n                this.objects.letter1.draw(ctx);\n            }\n            this.objects.bed.draw(ctx);\n        } else {\n            this.objects.bed.draw(ctx);\n            if (this.objects.bed.opened) {\n                this.objects.letter1.draw(ctx);\n            }\n            this.tom.draw({ctx: ctx, x: this.X, y: this.Y});\n        }\n        if (this.X > 275) {\n            this.objects.shadow.draw(ctx);\n        }\n\n        ctx.drawImage(this.filterImg, this.X - 700, this.Y - 710, 1600, 1600)\n\n        if (window.gameOn && !this.over) {\n            this.objects.inventory.draw(ctx);\n        } else {\n            this.objects.title.draw(ctx);\n        }\n\n        if (window.telling) {\n            let interactables = this.objects;\n            let pos = {x: this.X, y: this.Y};\n            this.teller.talk({ ctx, pos, interactables });\n        }\n\n        if (window.items) {\n            let inventory = this.objects.inventory;\n            this.iscreen.open({ ctx, inventory });\n        }\n\n        if (this.over) {\n            this.objects.ending.draw(ctx);\n        }\n    }\n\n    // moveObjects(delta) {\n    //     this.allObjects().forEach((object) => {\n    //         object.move(delta);\n    //     });\n    // }\n\n    add(object) {\n        if (object instanceof paint) {\n            this.paintings.push(object);\n        }\n    }\n\n    // allObjects() {\n    //     return [].concat([]);\n    // }\n\n    // step(delta) {\n    //     this.moveObjects(delta);\n    // }\n}\n","import Game from './game.js';\nimport GameView from './game_view.js';\n\n\n\nconst canvasEl = document.getElementById(\"game-canvas\");\ncanvasEl.width = 800;\ncanvasEl.height = 600;\nlet game;\n\nif (window.gameOn) {\n    let ctx = canvasEl.getContext(\"2d\");\n    game = new Game(ctx);\n    game.intro = true;\n    new GameView(game, ctx).start();\n} else {\n    let ctx = canvasEl.getContext(\"2d\");\n    game = new Game(ctx);\n    new GameView(game, ctx).start();\n}\n\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\n\nconst snd = new Audio(\"../audio/escape.mp3\");\nsnd.addEventListener(\"ended\", function () {\n    this.currentTime = 0;\n    this.play();\n}, false);\nsnd.play();\n\nwindow.dropsound = new Audio(\"./audio/drop.mp3\");\nwindow.bedsound = new Audio(\"./audio/bed.mp3\");\nwindow.keysound = new Audio(\"./audio/key.mp3\");\nwindow.skullsound = new Audio(\"./audio/skull.mp3\");\nwindow.coinsound = new Audio(\"./audio/change.mp3\");\nwindow.steps = new Audio(\"./audio/steps.mp3\");\nwindow.telling = false;\nwindow.items = false;\nwindow.gameOn = false;\nwindow.gameOver = false;\n\nwindow.frames = 0;\n\nfunction keyDownHandler(e) {\n    if (e.keyCode === 39 && (!window.telling)) {\n        e.preventDefault();\n        window.rightPressed = true;\n        window.walkingRight = true;\n    }\n    else if (e.keyCode === 37 && (!window.telling)) {\n        e.preventDefault();\n        window.leftPressed = true;\n        window.walkingLeft = true;\n    }\n    if (e.keyCode === 38 && (!window.telling)) {\n        e.preventDefault();\n        window.upPressed = true;\n        window.walkingRight = true;\n    } else if (e.keyCode === 40 && (!window.telling)) {\n        e.preventDefault();\n        window.downPressed = true;\n        window.walkingLeft = true;\n    }\n    if (e.keyCode === 77) {\n        e.preventDefault();\n        if (snd.paused) {\n            snd.play();\n        } else {\n            snd.pause();\n        }\n    }\n\n    if (e.keyCode === 32 && window.gameOn && !game.over && !window.items) {\n        e.preventDefault();\n        if (window.telling) {\n            window.telling = false;\n        } else if (window.telling && game.intro){\n            game.intro = false;\n            window.telling = false;\n        } else if (window.gameEnding) {\n            game.over = true;\n            window.telling = false;\n        } else {\n            window.telling = true;\n        }\n    }\n\n    if (e.keyCode === 73 && window.gameOn) {\n        e.preventDefault();\n        if (window.items) {\n            window.items = false;\n        } else {\n            window.items = true;\n        }\n    }\n\n    if (e.keyCode === 13) {\n        e.preventDefault();\n        if (!window.gameOn) {\n            game.intro = true;\n            window.telling = true;\n            window.gameOn = true;\n            snd.play();\n        }\n    }\n}\n\nfunction keyUpHandler(e) {\n    if (e.keyCode === 39) {\n        window.rightPressed = false;\n        window.walkingRight = false;\n    }\n    else if (e.keyCode === 37) {\n        window.leftPressed = false;\n        window.walkingLeft = false;\n    }\n    if (e.keyCode === 38) {\n        window.upPressed = false;\n        window.walkingRight = false;\n    }\n    else if (e.keyCode === 40) {\n        window.downPressed = false;\n        window.walkingLeft = false;\n    }\n}\n"],"sourceRoot":""}