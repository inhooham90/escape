{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/escape.js","webpack:///./lib/game.js","webpack:///./lib/game_view.js","webpack:///./lib/inventory.js","webpack:///./lib/iscreen.js","webpack:///./lib/level1/door.js","webpack:///./lib/level1/items.js","webpack:///./lib/level1/painting.js","webpack:///./lib/objects.js","webpack:///./lib/teller.js","webpack:///./lib/tom.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAA6B;AACS;;;;AAItC;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,gDAAI;AACnB;AACA,QAAQ,oDAAQ;AAChB,CAAC;AACD;AACA,eAAe,gDAAI;AACnB,QAAQ,oDAAQ;AAChB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,K;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,K;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2B;AACS;AACK;AACN;AACI;AACD;AACL;AACE;;AAEpB;AACf;AACA,0BAA0B,kDAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mDAAO;AAClC;AACA,sBAAsB,uDAAI;AAC1B,uBAAuB,2DAAK;AAC5B,yBAAyB,kDAAO;AAChC,wBAAwB,kDAAO;AAC/B,qBAAqB,kDAAO;AAC5B,2BAA2B,qDAAS;AACpC,qBAAqB,uDAAK;AAC1B,yBAAyB,uDAAK;AAC9B,uBAAuB,kDAAO;AAC9B,yBAAyB,uDAAK;AAC9B,yBAAyB,uDAAK;AAC9B,uBAAuB,kDAAO;AAC9B,wBAAwB,kDAAO;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,+CAAG;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB;AACxD;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB,8BAA8B,0BAA0B;AACxD;;AAEA;AACA;AACA,+BAA+B,iBAAiB;AAChD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,yB;;;;;;;;;;;;ACvBA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,C;;;;;;;;;;;;AC1BA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA,UAAU,iBAAiB;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;;AAGA,C;;;;;;;;;;;;ACxGA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,kC;;;;;;;;;;;;AC/GlB;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA,kBAAkB,8C;;;;;;;;;;;;AC7HlB;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,U;AACA;AACA;AACA;AACA;AACA,S;;;AAGA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;;AAGA,C;;;;;;;;;;;;AC1EA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/escape.js\");\n","import Game from './game.js';\nimport GameView from './game_view.js';\n\n\n\nconst canvasEl = document.getElementById(\"game-canvas\");\ncanvasEl.width = 800;\ncanvasEl.height = 600;\nlet game;\n\nif (window.gameOn) {\n    let ctx = canvasEl.getContext(\"2d\");\n    game = new Game(ctx);\n    game.intro = true;\n    new GameView(game, ctx).start();\n} else {\n    let ctx = canvasEl.getContext(\"2d\");\n    game = new Game(ctx);\n    new GameView(game, ctx).start();\n}\n\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\n\nconst snd = new Audio(\"./escape.mp3\");\nsnd.addEventListener(\"ended\", function () {\n    this.currentTime = 0;\n    this.play();\n}, false);\nsnd.play();\n\nwindow.dropsound = new Audio(\"./drop.mp3\");\nwindow.bedsound = new Audio(\"./bed.mp3\");\nwindow.keysound = new Audio(\"./key.mp3\");\nwindow.skullsound = new Audio(\"./skull.mp3\");\nwindow.coinsound = new Audio(\"./change.mp3\");\nwindow.steps = new Audio(\"./steps.mp3\");\nwindow.telling = false;\nwindow.items = false;\nwindow.gameOn = false;\nwindow.gameOver = false;\n\nwindow.frames = 0;\n\nfunction keyDownHandler(e) {\n    if (e.keyCode === 39 && (!window.telling)) {\n        window.rightPressed = true;\n        window.walkingRight = true;\n    }\n    else if (e.keyCode === 37 && (!window.telling)) {\n        window.leftPressed = true;\n        window.walkingLeft = true;\n    }\n    if (e.keyCode === 38 && (!window.telling)) {\n        window.upPressed = true;\n        window.walkingRight = true;\n    } else if (e.keyCode === 40 && (!window.telling)) {\n        window.downPressed = true;\n        window.walkingLeft = true;\n    }  \n    if (e.keyCode === 77) {\n        if (snd.paused) {\n            snd.play();\n        } else {\n            snd.pause();\n        }\n    }\n\n    if (e.keyCode === 32 && window.gameOn && !game.over && !window.items) {\n        if (window.telling) {\n            window.telling = false;\n        } else if (window.telling && game.intro){\n            game.intro = false;\n            window.telling = false;\n        } else if (window.gameEnding) {\n            game.over = true;\n            window.telling = false;\n        } else {\n            window.telling = true;\n        }\n    }\n    \n    if (e.keyCode === 73 && window.gameOn) {\n        if (window.items) {\n            window.items = false;\n        } else {\n            window.items = true;\n        }\n    } \n\n    if (e.keyCode === 13) {\n        if (!window.gameOn) {\n            game.intro = true;\n            window.telling = true;\n            window.gameOn = true;\n            snd.play();\n        }\n    }\n}\n\nfunction keyUpHandler(e) {\n    if (e.keyCode === 39) {\n        window.rightPressed = false;\n        window.walkingRight = false;\n    }\n    else if (e.keyCode === 37) {\n        window.leftPressed = false;\n        window.walkingLeft = false;\n    }\n    if (e.keyCode === 38) {\n        window.upPressed = false;\n        window.walkingRight = false;\n    }\n    else if (e.keyCode === 40) {\n        window.downPressed = false;\n        window.walkingLeft = false;\n    }\n}","import Tom from './tom.js';\nimport Door from './level1/door.js';\nimport Paint from './level1/painting.js';\nimport Objects from './objects.js';\nimport Inventory from './inventory.js';\nimport Items from './level1/items.js';\nimport Teller from './teller.js';\nimport Iscreen from './iscreen.js';\n\nexport default class Game {\n    constructor(ctx) {\n        this.teller = new Teller();\n        this.background = new Image();\n        this.background.src = './images/background.png';\n        this.filterImg = new Image();\n        this.filterImg.src = './images/filter.png';\n        this.tom = null;\n        this.X = 30;\n        this.Y = 400;\n        this.iscreen = new Iscreen();\n        this.objects = {\n            door: new Door(),\n            paint: new Paint(),\n            writing: new Objects.Writing(),\n            shadow: new Objects.Shadow(),\n            bed: new Objects.Bed(),\n            inventory: new Inventory(),\n            key: new Items.Key(),\n            letter1: new Items.Letter1(),\n            table: new Objects.Table(),\n            letter2: new Items.Letter2(),\n            letter3: new Items.Letter3(),\n            title: new Objects.Title(),\n            ending: new Objects.Ending(),\n        }\n        this.selectCount = 0;\n        this.intro = false;\n        this.over = false;\n    }\n\n    addTom() {\n        this.tom = new Tom();\n        return this.tom;\n    }\n\n    play(ctx) {\n        if ((window.rightPressed && this.X < 630) && window.gameOn) {\n            if (!window.items && !this.tom.blockedr) {\n                this.X += 3;\n            } else {\n                this.selectCount += 1;\n                if (this.selectCount === 5) {\n                    this.selectCount = 0;\n                    this.iscreen.moveRight();\n                }\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        } else if ((window.leftPressed && this.X > -50) && window.gameOn) {\n            if (!window.items && !this.tom.blockedl) {\n                this.X -= 3;\n            } else {\n                this.selectCount += 1;\n                if (this.selectCount === 5) {\n                    this.selectCount = 0;\n                    this.iscreen.moveLeft();\n                }\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        }\n        if ((window.upPressed && this.Y > 250) && !this.tom.blockedu && window.gameOn) {\n            if (!window.items) {\n                this.Y -= 3;\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        } else if ((window.downPressed && this.Y < 450) && !this.tom.blockedd && window.gameOn) {\n            if (!window.items) {\n                this.Y += 3;\n            }\n            if (this.objects.inventory.items.length >= 0) {\n                this.teller.phrase = [\"Nothing much here..\"];\n            }\n        }\n\n        if ((this.X > 440 && this.X < 460)&& this.Y < 300) {\n            this.objects.paint.dropPaint();\n        }\n\n        ctx.clearRect(0, 0, 800, 600);\n        ctx.fillRect(0, 0, 800, 600);\n        ctx.drawImage(this.background, 0, 0, 800, 600);\n        this.objects.door.draw(ctx);\n        this.objects.paint.draw(ctx);\n        this.objects.table.draw(ctx);\n        if (this.objects.paint.dropped) {\n            this.objects.key.draw(ctx);\n            this.objects.writing.write();\n        }\n        this.objects.writing.draw(ctx);\n        if (this.tom.count === 15 && window.gameOn) {\n            this.objects.table.surprise();\n            this.tom.count += 1;\n        }\n        if (this.tom.count === 25 && window.gameOn) {\n            this.objects.shadow.gone();\n            this.objects.letter3.discover();\n            this.tom.count += 1;\n        }\n        if (this.objects.table.surprised) {\n            this.objects.letter2.draw(ctx);\n        }\n        this.objects.letter3.draw(ctx);\n        this.tom.checkCollision({ x: this.X, y: this.Y })\n        if (this.X < 150 && this.Y < 320) {\n            this.tom.draw({ ctx, x: this.X, y: this.Y });\n            if (this.objects.bed.opened) {\n                this.objects.letter1.draw(ctx);\n            }\n            this.objects.bed.draw(ctx);\n        } else {\n            this.objects.bed.draw(ctx);\n            if (this.objects.bed.opened) {\n                this.objects.letter1.draw(ctx);\n            }\n            this.tom.draw({ctx: ctx, x: this.X, y: this.Y});\n        }\n        if (this.X > 275) {\n            this.objects.shadow.draw(ctx);\n        }\n\n        ctx.drawImage(this.filterImg, this.X - 700, this.Y - 710, 1600, 1600)\n        \n        if (window.gameOn && !this.over) {\n            this.objects.inventory.draw(ctx);\n        } else {\n            this.objects.title.draw(ctx);\n        }\n\n        if (window.telling) {\n            let interactables = this.objects;\n            let pos = {x: this.X, y: this.Y};\n            this.teller.talk({ ctx, pos, interactables });\n        }\n\n        if (window.items) {\n            let inventory = this.objects.inventory;\n            this.iscreen.open({ ctx, inventory });\n        }\n\n        if (this.over) {\n            this.objects.ending.draw(ctx);\n        }\n    }\n\n    // moveObjects(delta) {\n    //     this.allObjects().forEach((object) => {\n    //         object.move(delta);\n    //     });\n    // }\n\n    add(object) {\n        if (object instanceof paint) {\n            this.paintings.push(object);\n        }\n    }\n\n    // allObjects() {\n    //     return [].concat([]);\n    // }\n\n    // step(delta) {\n    //     this.moveObjects(delta);\n    // }\n}","class GameView {\n    constructor(game, ctx) {\n        this.ctx = ctx;\n        this.game = game;\n        this.tom = this.game.addTom();\n    }\n    \n    start() {\n        this.lastTime = 0;\n        requestAnimationFrame(this.animate.bind(this));\n    }\n\n\n\n    animate(time) {\n        this.game.play(this.ctx);\n        this.lastTime = time;\n\n        requestAnimationFrame(this.animate.bind(this));\n    }\n  \n}\n\nmodule.exports = GameView","export default class Inventory{\n    constructor() {\n        this.items = [];\n        this.image = new Image();\n        this.image.src = \"./images/inventory.png\";\n        this.dx = 28;\n        this.dy = 30;\n        this.full = false;\n    }\n    \n    add(item) {\n        this.items.push(item);\n    }\n    \n    draw(ctx) {\n        if (this.items.length > 3) {\n            this.full = true;\n        }\n\n        ctx.drawImage(this.image, this.dx, this.dy, 750, 120);\n        this.items.forEach ((item, idx) => {\n            let x = (idx + 1) * 142;\n            let y = this.dy + 102 - item.displayh;\n            ctx.drawImage(item.image, x, y, item.displayw, item.displayh)\n        })\n    }\n}","export default class Iscreen {\n    constructor() {\n        this.image = new Image();\n        this.image.src = './images/iscreen.png';\n        this.select = new Image();\n        this.select.src = './images/select.png';\n        this.first = true;\n        this.second = false;\n        this.third = false;\n        this.fourth = false;\n    }\n\n    moveRight() {\n        if (this.first) {\n            this.first = false;\n            this.second = true;\n        } else if (this.second) {\n            this.second = false;\n            this.third = true;\n        } else if (this.third) {\n            this.third = false;\n            this.fourth = true;\n        } else if (this.fourth) {\n            this.fourth = false;\n            this.first = true;\n        }\n    }\n\n    moveLeft() {\n        if (this.first) {\n            this.first = false;\n            this.fourth = true;\n        } else if (this.second) {\n            this.second = false;\n            this.first = true;\n        } else if (this.third) {\n            this.third = false;\n            this.second = true;\n        } else if (this.fourth) {\n            this.fourth = false;\n            this.third = true;\n        }\n    }\n\n    drawTab(ctx) {\n        ctx.drawImage(this.image, 20, 20, 757, 720);\n    }\n\n    drawSelector(ctx) {\n        if (this.first) {\n            ctx.drawImage(this.select, 128, 30, 120, 120);\n        } else if (this.second) {\n            ctx.drawImage(this.select, 268, 30, 120, 120);\n        } else if (this.third) {\n            ctx.drawImage(this.select, 408, 30, 120, 120);\n        } else if (this.fourth) {\n            ctx.drawImage(this.select, 548, 30, 120, 120);\n        }\n    }\n\n    open({ ctx, inventory }) {\n        const inven = inventory.items;\n\n        this.drawTab(ctx);\n        this.drawSelector(ctx);\n        ctx.font = '14px \"Press Start 2P\"';\n        let content;\n        if (this.first) {\n            if (inven[0]) {\n                inven[0].read = true;\n                content = inven[0].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.second) {\n            if (inven[1]) {\n                inven[1].read = true;\n                content = inven[1].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.third) {\n            if (inven[2]) {\n                inven[2].read = true;\n                content = inven[2].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        } else if (this.fourth) {\n            if (inven[3]) {\n                inven[3].read = true;\n                content = inven[3].content;\n            } else {\n                content = [\"Nothing here yet.\"];\n            }\n        }\n\n        content.forEach((line, idx) => {\n            let y = (idx + 1) * 45 + 150;\n            ctx.fillText(line, 80, y);\n        })\n    }\n\n\n}","export default class Door {\n    constructor(char) {\n        this.image = new Image();\n        this.image.src = \"./images/door.png\";\n        this.width = 165;\n        this.height = 60;\n        this.X = 550;\n        this.Y = 450;\n        this.opened = false;\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.image, this.X, this.Y, this.width, this.height);\n    }\n}\n\n","const Key = function () {\n    this.image = new Image();\n    this.image.src = \"./images/key.png\";\n    this.found = false;\n    this.displayw = 90;\n    this.displayh = 90;\n    this.content = [\"It's a key.\", \"It fits the trap door perfectly.\"],\n    this.read = false;\n}\n\nKey.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n            ctx.drawImage(this.image, 490, 370, 60, 60);\n        }\n    }\n}\n\nconst Letter1 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter3.png\";\n    this.content = \n        [\n        \"Dear Diary,\", \n        \"When I first saw Tom, I fell in love with him.\",\n        \"It's destined. Tom and me TOGETHER. Although\",\n        \"Tom doesn't know who I am, we will meet soon.\",\n        \"He is not ready for me yet. I really hope he \",\n        \"likes me.. unlike the other guys.\",\n        \"HOW DARE THEY TO REJECT ME! Doesn't matter.. \",\n        \"They are all dead and buried under me HAHA\",\n        \"Tom better like me.. or he'll be joining them!\"\n    ]\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n    this.read = false;\n}\n\nLetter1.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n        ctx.drawImage(this.image, 90, 440, 40, 40);\n        }\n    }\n}\n\nconst Letter2 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter2.png\";\n    this.content =\n        [\n            \"Dear Diary,\",\n            \"Our eyes met. And he didn't look away from me.\",\n            \"My love. I guess that means he's ready to take \",\n            \"the vow. I can already imagine us, Tom and I,\",\n            \"standing at the podium. HAHA I cannot continue\",\n            \"for my heart flutters too vigorously!\",\n            \"It's time for us to meet Tom. I will be under\",\n            \"your bed tonight for a special surprise!\",\n            \"Surprise event for our first encounter!\"\n        ]\n\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n    this.read = false;\n}\n\nLetter2.prototype = {\n    draw: function (ctx) {\n        if (!this.found) {\n            ctx.drawImage(this.image, 660, 320, 40, 40);\n        }\n    }\n}\n\nconst Letter3 = function () {\n    this.image = new Image();\n    this.image.src = \"./images/letter1.png\";\n    this.content =\n        [\n            \"HOW DARE HE\",\n            \" \",\n            \"IF I CAN'T HAVE TOM\",\n            \" \",\n            \"NOBODY CAN\",\n            \" \",\n            \"I'LL KEEP TOM FOREVER MINE\",\n            \" \",\n            \"FIRST I'LL KILL HIM SO HE CAN'T REFUSE!\"\n        ]\n    this.present = false;\n    this.found = false;\n    this.displayh = 85;\n    this.displayw = 85;\n    this.read = false;\n}\n\nLetter3.prototype = {\n    discover: function () {\n        this.present = true;\n    },\n\n    draw: function (ctx) {\n        if (this.present && !this.found) {\n            ctx.drawImage(this.image, 230, 375, 40, 40);\n        }\n    }\n}\n\nmodule.exports = { Key, Letter1, Letter2, Letter3 };","export default class Paint {\n    constructor(obj) {\n        this.image = new Image();\n        this.image.src = \"./images/paint1.png\";\n        this.width = 100;\n        this.height = 120;\n        this.X = 480;\n        this.Y = 200;\n        this.falling = false;\n        this.dropped = false;\n    }\n\n    dropPaint() {\n        this.falling = true;\n    }\n\n    draw(ctx) {\n        if (this.falling && this.Y < 340) {\n                this.Y += 10;\n            window.dropsound.play();\n        }\n\n        if (this.Y === 340) {\n            this.falling = false;\n            this.dropped = true;\n            this.image.src = './images/paint2.png';\n            this.width = 130;\n            this.height = 45;\n            this.X = 450;\n            this.Y += 45;\n            window.dropsound.pause();\n        }\n        ctx.drawImage(this.image, this.X, this.Y, this.width, this.height);\n    }\n}\n\n","const Writing = function () {\n    this.image = new Image();\n    this.image.src = \"./images/writing.png\";\n    this.wall = false;\n}\n\nWriting.prototype = {\n    write: function () {\n        this.wall = true;\n    },\n    draw: function (ctx) {\n        if (this.wall) {\n            ctx.drawImage(this.image, 180, 250, 180, 150);\n        }\n    }\n}\n\nconst Shadow = function () {\n    this.image = new Image();\n    this.image.src = \"./images/shadow.png\";\n    this.present = true;\n}\n\nShadow.prototype = {\n    gone: function () {\n        this.present = false;\n        window.steps.play();\n    },\n\n    draw: function (ctx) {\n        if (this.present) {\n            ctx.drawImage(this.image, 200, 275, 50, 175);\n        }\n    }\n}\n\nconst Bed = function () {\n    this.image = new Image();\n    this.image.src = \"./images/bed.png\";\n    this.sy = 0;\n    this.opened = false;\n}\n\nBed.prototype = {\n    open: function() {\n        this.sy = 1200;\n        this.opened = true;\n    },\n    draw: function (ctx) {\n        ctx.drawImage(this.image, 0, this.sy, 1200, 1200, -65, 300, 350, 350);\n    }\n}\n\nconst Table = function () {\n    this.image = new Image();\n    this.image.src = \"./images/beforetable.png\";\n    this.surprised = false;\n}\n\nTable.prototype = {\n    surprise: function () {\n        this.surprised = true;\n        window.coinsound.play();\n        window.skullsound.play();\n    },\n    draw: function (ctx) {\n        if (this.surprised) {\n            this.image.src = \"./images/aftertable.png\";\n        }\n        ctx.drawImage(this.image, 570, 250, 250, 250);\n    }\n}\n\nconst Title = function () {\n    this.image = new Image();\n    this.image.src = \"./images/title.png\";\n    this.phrase = [\n                \"Press: \",\n                \"'enter' to start\",\n                \"'arrows' to move\", \n                \"'space' for interactions\", \n                \"'i' for inventory\",\n                \"'m' to toggle music\",\n            ]\n}\n\nTitle.prototype = {\n    draw: function (ctx) {\n        if (!window.gameEnding) {\n            ctx.drawImage(this.image, 30, 0, 800, 600);\n            ctx.font = '14px \"Press Start 2P\"';\n            this.phrase.forEach((line, idx) => {\n                let y = (idx + 1) * 30 + 325;\n                ctx.fillText(line, 390, y);\n            })\n        }\n    }\n}\n\nconst Ending = function () {\n    this.image = new Image();\n    this.image.src = \"./images/ending.png\";\n    this.phrase = [\n        \"You successfully escape\",\n        \"with recovered memory.\",\n        \"Soon after, you hear her\",\n        \"devilish scream..\",\n        \"Hopefully you will never\",\n        \"encounter her again..\",\n        \"Thanks for playing\"\n    ]\n}\n\nEnding.prototype = {\n    draw: function (ctx) {\n        ctx.drawImage(this.image, 30, 0, 800, 600);\n        ctx.font = '14px \"Press Start 2P\"';\n        this.phrase.forEach((line, idx) => {\n            let y = (idx + 1) * 30 + 325;\n            ctx.fillText(line, 108, y);\n        })\n    }\n}\n\n\nmodule.exports = { Writing, Shadow, Bed, Table, Title, Ending };","export default class Teller {\n    constructor(){\n        this.image = new Image();\n        this.image.src = './images/teller.png';\n        this.phrase = [\"I wake up to a musky odor..\", \"Where.. am I?\", \"Who am I?\"];\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.image, 104, 330, 600, 280)\n    }\n\n    talk({ ctx, pos, interactables }) {\n        const inven = interactables.inventory;\n        if ( \n            ((pos.x > 375 && pos.x < 460) && (pos.y > 249 && pos.y < 280))\n            && (!interactables.key.found && interactables.paint.dropped)\n        ) {\n            this.phrase = [\"There is a key here\"];\n            window.keysound.play();\n            inven.add(interactables.key);\n            interactables.key.found = true;\n        } else if (    \n            ((pos.x > 450 && pos.x < 550) && (pos.y > 300 && pos.y < 360))\n        ) {\n            if (interactables.key.found && !inven.full){\n                this.phrase = [\"I can't leave yet..\", \"I have to remember who I am..\"]\n            } else if (!interactables.key.found) {\n                this.phrase = [\"It's a trap door that leads\", \"to outside. But it's locked.\"]\n            } else if (inven.full && (!interactables.key.read || !interactables.letter1.read || !interactables.letter2.read || !interactables.letter3.read)) {\n                this.phrase = [\"I should probably read the\", \"pieces of diary first...\"]\n            } else if (inven.full && interactables.key.read && interactables.letter1.read && interactables.letter2.read && interactables.letter3.read) {\n                this.phrase = [\".. I remember now.. My name\", \"is Tom. This person will kill\", \"me if I don't leave...\"];\n                window.gameEnding = true;\n            }\n        } else if (\n            (pos.x > 123 && pos.x < 213) && (pos.y > 240 && pos.y < 259)\n        ) {\n            if (interactables.shadow.present && interactables.paint.dropped ){\n                this.phrase = [\"I thought I saw someone..\", \"...\", \"Was this writing always here?\"]\n            } else if (!interactables.shadow.present && !interactables.letter3.found) {\n                this.phrase = [\"There is a part of a diary.\",\n                               \"I thought I heard something\",\n                               \"around here.. What was it?\"];\n                inven.add(interactables.letter3);\n                interactables.letter3.found = true;\n            }\n        } else if (\n            ((pos.x > 50 && pos.x < 108) && (pos.y > 322 && pos.y < 380) && !interactables.bed.opened)\n        ) {\n            window.bedsound.play();\n            interactables.bed.open();\n            this.phrase = [\"There is something under\", \"the bed sheet.\", \"It's a part of a diary.\"]\n            inven.add(interactables.letter1);\n            interactables.letter1.found = true;\n        } else if (\n            ((pos.x > 539 && pos.x < 618) && (pos.y > 285 && pos.y < 298))\n            && (!interactables.letter2.found && interactables.table.surprised)\n        ){ \n            window.bedsound.play();\n            this.phrase = [\"What happened?\", \"Where is this from?\"]\n            interactables.letter2.found = true;\n            inven.add(interactables.letter2);\n        } \n\n\n        this.draw(ctx);\n        ctx.font = '16px \"Press Start 2P\"';\n        this.phrase.forEach( (line, idx) => {\n            let y = (idx + 1) * 45 + 385;\n            ctx.fillText(line, 175, y);\n        })\n    }\n\n    \n}","export default class Tom {\n    constructor(pos) {\n        this.image = new Image();\n        this.image.src = \"./images/right.png\"\n        this.width = 200;\n        this.height = 200;\n        this.sx = 0;\n        this.sy = 0;\n        this.sh = 1200;\n        this.sw = 1200;\n        this.blockedr = false;\n        this.blockedl = false;\n        this.blockedu = false;\n        this.blockedd = false;\n        this.count = 0;\n    }\n\n    checkCollision(pos) {\n        if ((pos.x >= 12 && pos.x < 101) && (pos.y > 288 && pos.y < 292)) {\n            this.blockedd = true;\n        } else {\n            this.blockedd = false;\n        }\n\n        if (pos.x < 60 && (pos.y > 240 && pos.y < 290)){\n            this.blockedl = true;\n        } else if (pos.x < 105 && (pos.y > 290 && pos.y < 350)) {\n            this.blockedl = true;\n        } else if (pos.x < 78 && (pos.y >= 350 && pos.y < 390)) {\n            this.blockedl = true;\n        } else {\n            this.blockedl = false;\n        }\n\n        if (pos.x >= 74 && pos.x < 101 && pos.y === 355) {\n            this.blockedu = true;\n        } else if (pos.x < 75 && pos.y > 390 && pos.y <395 ) {\n            this.blockedu = true;\n        } else if (pos.x > 462 && pos.y < 289) {\n            this.blockedu = true;\n        } else {\n            this.blockedu = false;\n        }\n\n        if (pos.x > 460 && pos.y >= 250 && pos.y < 285 ) {\n            this.blockedr = true;\n        } else {\n            this.blockedr = false;\n        }\n\n    }\n    \n    draw(obj) {\n        if (window.rightPressed && !window.items) {\n            this.image.src = \"./images/right.png\"\n        } else if (window.leftPressed && !window.items) {\n            this.image.src = \"./images/left.png\"\n        }\n\n        if (window.upPressed && !window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.downPressed && !window.leftPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.upPressed && window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (window.downPressed && window.leftPressed && !window.items) {\n            window.frames += 150;\n        } else if (!window.upPressed && window.rightPressed && !window.items) {\n            window.frames += 150;\n        } else if (!window.downPressed && window.leftPressed && !window.items) {\n            window.frames += 150;\n        }\n        \n        switch (window.frames) {\n            case 0:\n                this.sy = 0;\n                break;\n            case 1200:\n                this.sy = 1200;\n                break;\n            case 2400:\n                this.sy = 2400;\n                break;\n            case 3600:\n                this.sy = 3600;\n                break;\n            case 4800:\n                this.sy = 4800;\n                break;\n            case 6000:\n                this.sy = 6000;\n                break;\n            case 7200:\n                this.sy = 0;\n                window.frames = 0;\n                this.count += 1;\n                break;\n            default:\n                break;\n        }\n\n        if (window.frames > 7200) {\n            this.sy = 0;\n            window.frames = 0;\n        }\n        window.getpos = [[obj.x, obj.y], this.count];\n    obj.ctx.drawImage(this.image, this.sx, this.sy, this.sw, this.sh, obj.x, obj.y, this.width, this.height);\n    }\n}\n\n"],"sourceRoot":""}